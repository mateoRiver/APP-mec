<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Inflaci√≥n Argentina</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Lora', serif;
            background: linear-gradient(135deg, #001f3f 0%, #003366 100%);
            min-height: 100vh;
            color: white;
        }

        /* LOGIN SCREEN */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-box {
            background: white;
            color: #001f3f;
            padding: 40px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 400px;
        }

        .login-box h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 28px;
            color: #001f3f;
        }

        .login-box p {
            text-align: center;
            margin-bottom: 30px;
            color: #666;
            font-size: 14px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #001f3f;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-family: 'Lora', serif;
            font-size: 16px;
            transition: border 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #001f3f;
        }

        .login-btn {
            width: 100%;
            padding: 14px;
            background: #001f3f;
            color: white;
            border: none;
            border-radius: 10px;
            font-family: 'Lora', serif;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .login-btn:hover {
            background: #003366;
        }

        .error-message {
            color: #d32f2f;
            text-align: center;
            margin-top: 15px;
            font-size: 14px;
            display: none;
        }

        .credentials-info {
            margin-top: 20px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 10px;
            font-size: 13px;
            color: #666;
        }

        .credentials-info strong {
            color: #001f3f;
        }

        /* DASHBOARD */
        .dashboard {
            display: none;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            padding-bottom: 80px;
        }

        .dashboard.active {
            display: block;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
        }

        .header-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .download-btn, .logout-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-family: 'Lora', serif;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .download-btn {
            background: #28a745;
            color: white;
        }

        .download-btn:hover {
            transform: scale(1.05);
            background: #218838;
        }

        .logout-btn {
            background: white;
            color: #001f3f;
        }

        .logout-btn:hover {
            transform: scale(1.05);
        }

        /* SECCIONES */
        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* RESUMEN */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            color: #001f3f;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
        }

        .stat-card h3 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            opacity: 0.8;
        }

        .stat-card .value {
            font-size: 36px;
            font-weight: 700;
            color: #001f3f;
        }

        .stat-card .change {
            font-size: 14px;
            margin-top: 8px;
            font-weight: 600;
        }

        .stat-card .change.positive {
            color: #d32f2f;
        }

        .stat-card .change.negative {
            color: #4caf50;
        }

        .stat-card .view-more {
            margin-top: 15px;
            font-size: 13px;
            color: #001f3f;
            opacity: 0.7;
            font-weight: 600;
        }

        /* DETALLE DE GR√ÅFICO */
        .chart-detail {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .chart-detail h2 {
            color: #001f3f;
            margin-bottom: 20px;
            font-size: 20px;
            font-weight: 600;
        }

        .chart-wrapper {
            position: relative;
            height: 400px;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: white;
            color: #001f3f;
            border: none;
            border-radius: 8px;
            font-family: 'Lora', serif;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 20px;
            transition: transform 0.2s;
        }

        .back-btn:hover {
            transform: scale(1.05);
        }

        /* NAVEGACI√ìN INFERIOR */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            display: none;
            justify-content: space-around;
            padding: 10px 0;
            z-index: 1000;
        }

        .bottom-nav.active {
            display: flex;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 15px;
            cursor: pointer;
            color: #666;
            transition: color 0.3s;
            border: none;
            background: none;
            font-family: 'Lora', serif;
        }

        .nav-item.active {
            color: #001f3f;
            font-weight: 600;
        }

        .nav-item .icon {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .nav-item .label {
            font-size: 11px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 24px;
            }

            .stat-card .value {
                font-size: 28px;
            }

            .chart-wrapper {
                height: 300px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- LOGIN SCREEN -->
    <div id="loginScreen" class="login-container">
        <div class="login-box">
            <h1>üá¶üá∑ Inflaci√≥n Argentina</h1>
            <p>Datos actualizados del INDEC</p>
            
            <div class="input-group">
                <label for="username">Usuario</label>
                <input type="text" id="username" placeholder="Ingrese su usuario">
            </div>
            
            <div class="input-group">
                <label for="password">Contrase√±a</label>
                <input type="password" id="password" placeholder="Ingrese su contrase√±a">
            </div>
            
            <button class="login-btn" onclick="login()">Ingresar</button>
            
            <div class="error-message" id="errorMessage">Usuario o contrase√±a incorrectos</div>
            
            <div class="credentials-info">
                <strong>Credenciales de prueba:</strong><br>
                Usuario: <code>admin</code> / Contrase√±a: <code>argentina2025</code><br>
                Usuario: <code>usuario</code> / Contrase√±a: <code>123456</code>
            </div>
        </div>
    </div>

    <!-- DASHBOARD -->
    <div id="dashboard" class="dashboard">
        <div class="header">
            <h1>üìä Inflaci√≥n Argentina - Datos INDEC</h1>
            <div class="header-buttons">
                <button class="download-btn" onclick="descargarExcel()">üì• Descargar Excel</button>
                <button class="logout-btn" onclick="logout()">Cerrar Sesi√≥n</button>
            </div>
        </div>

        <!-- RESUMEN -->
        <div id="resumenSection" class="section active">
            <div class="stats-grid">
                <div class="stat-card" onclick="showSection('mensual')">
                    <h3>INFLACI√ìN MENSUAL</h3>
                    <div class="value">2.8%</div>
                    <div class="change positive">Diciembre 2025</div>
                    <div class="view-more">üëâ Ver gr√°fico completo</div>
                </div>
                <div class="stat-card" onclick="showSection('interanual')">
                    <h3>INFLACI√ìN INTERANUAL</h3>
                    <div class="value">31.5%</div>
                    <div class="change negative">‚Üì Menor desde 2017</div>
                    <div class="view-more">üëâ Ver gr√°fico completo</div>
                </div>
                <div class="stat-card" onclick="showSection('nucleo')">
                    <h3>INFLACI√ìN N√öCLEO</h3>
                    <div class="value">2.7%</div>
                    <div class="change">Diciembre 2025</div>
                    <div class="view-more">üëâ Ver gr√°fico completo</div>
                </div>
                <div class="stat-card" onclick="showSection('emae')">
                    <h3>EMAE DESESTACIONALIZADO</h3>
                    <div class="value">152.4</div>
                    <div class="change">Noviembre 2025</div>
                    <div class="view-more">üëâ Ver detalles</div>
                </div>
            </div>
        </div>

        <!-- SECCI√ìN MENSUAL -->
        <div id="mensualSection" class="section">
            <button class="back-btn" onclick="showSection('resumen')">‚Üê Volver al resumen</button>
            <div class="chart-detail">
                <h2>Inflaci√≥n Mensual Nov 2023 - Dic 2025 | EMAE Desest. Nov 2023 - Nov 2025</h2>
                <div class="chart-wrapper">
                    <canvas id="inflacionMensualChart"></canvas>
                </div>
            </div>
        </div>

        <!-- SECCI√ìN INTERANUAL -->
        <div id="interanualSection" class="section">
            <button class="back-btn" onclick="showSection('resumen')">‚Üê Volver al resumen</button>
            <div class="chart-detail">
                <h2>Inflaci√≥n Interanual Nov 2023 - Dic 2025</h2>
                <div class="chart-wrapper">
                    <canvas id="inflacionInteranualChart"></canvas>
                </div>
            </div>
        </div>

        <!-- SECCI√ìN N√öCLEO -->
        <div id="nucleoSection" class="section">
            <button class="back-btn" onclick="showSection('resumen')">‚Üê Volver al resumen</button>
            <div class="chart-detail">
                <h2>Inflaci√≥n N√∫cleo Mensual Nov 2023 - Dic 2025</h2>
                <div class="chart-wrapper">
                    <canvas id="inflacionNucleoChart"></canvas>
                </div>
            </div>
        </div>

        <!-- SECCI√ìN EMAE INFO -->
        <div id="emaeSection" class="section">
            <button class="back-btn" onclick="showSection('resumen')">‚Üê Volver al resumen</button>
            <div class="chart-detail">
                <h2>EMAE Desestacionalizado - Detalles</h2>
                <p style="color: #001f3f; line-height: 1.6; margin-bottom: 20px;">
                    El <strong>EMAE (Estimador Mensual de Actividad Econ√≥mica)</strong> es un indicador que mide la evoluci√≥n de la actividad econ√≥mica en Argentina. 
                    El √≠ndice desestacionalizado base 2004=100 permite comparar la actividad econ√≥mica eliminando efectos estacionales.
                </p>
                <div style="background: #f5f5f5; padding: 20px; border-radius: 10px; color: #001f3f;">
                    <h3 style="margin-bottom: 15px;">Datos Noviembre 2025:</h3>
                    <p style="margin-bottom: 10px;"><strong>√çndice:</strong> 152.4 (base 2004=100)</p>
                    <p style="margin-bottom: 10px;"><strong>Variaci√≥n mensual:</strong> -0.3%</p>
                    <p style="margin-bottom: 10px;"><strong>Variaci√≥n interanual:</strong> -0.3%</p>
                    <p style="margin-top: 20px; font-size: 13px; opacity: 0.8;">
                        <em>Fuente: INDEC - Estimador Mensual de Actividad Econ√≥mica</em>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- NAVEGACI√ìN INFERIOR (M√ìVIL) -->
    <div id="bottomNav" class="bottom-nav">
        <button class="nav-item active" onclick="showSection('resumen')">
            <div class="icon">üìä</div>
            <div class="label">Resumen</div>
        </button>
        <button class="nav-item" onclick="showSection('mensual')">
            <div class="icon">üìà</div>
            <div class="label">Mensual</div>
        </button>
        <button class="nav-item" onclick="showSection('interanual')">
            <div class="icon">üìâ</div>
            <div class="label">Interanual</div>
        </button>
        <button class="nav-item" onclick="showSection('nucleo')">
            <div class="icon">üéØ</div>
            <div class="label">N√∫cleo</div>
        </button>
    </div>

    <script>
        const validUsers = {
            'admin': 'argentina2025',
            'usuario': '123456'
        };

        let chartMensual, chartInteranual, chartNucleo;
        let chartsInitialized = false;

        const mesesMensual = ['Nov 23', 'Dic 23', 'Ene 24', 'Feb 24', 'Mar 24', 'Abr 24', 'May 24', 'Jun 24', 
                             'Jul 24', 'Ago 24', 'Sep 24', 'Oct 24', 'Nov 24', 'Dic 24', 'Ene 25', 'Feb 25', 
                             'Mar 25', 'Abr 25', 'May 25', 'Jun 25', 'Jul 25', 'Ago 25', 'Sep 25', 'Oct 25', 
                             'Nov 25', 'Dic 25'];
        
        const datosMensual = [12.8, 25.5, 20.6, 13.2, 11.0, 8.8, 4.2, 4.6, 4.0, 4.2, 3.5, 2.7, 2.4, 2.7, 
                             2.2, 2.0, 2.1, 2.6, 2.8, 3.7, 3.8, 4.2, 3.9, 3.5, 2.6, 2.8];

        const datosEMAE = [146.4, 143.3, 143.9, 143.9, 142.9, 141.0, 142.6, 143.6, 147.1, 147.8, 147.7, 148.7, 
                          150.4, 152.2, 152.2, 153.4, 150.7, 152.4, 152.2, 151.5, 151.5, 152.5, 153.4, 152.8, 
                          152.4, null];

        const mesesInteranual = ['Nov 23', 'Dic 23', 'Ene 24', 'Feb 24', 'Mar 24', 'Abr 24', 'May 24', 'Jun 24', 
                                'Jul 24', 'Ago 24', 'Sep 24', 'Oct 24', 'Nov 24', 'Dic 24', 'Ene 25', 'Feb 25', 
                                'Mar 25', 'Abr 25', 'May 25', 'Jun 25', 'Jul 25', 'Ago 25', 'Sep 25', 'Oct 25', 
                                'Nov 25', 'Dic 25'];
        
        const datosInteranual = [160.9, 211.4, 254.2, 276.2, 287.9, 289.4, 263.4, 236.7, 215.1, 209.8, 193.1, 
                                166.5, 152.9, 117.8, 66.9, 55.9, 47.3, 43.5, 39.4, 36.6, 33.6, 31.8, 31.3, 31.4, 31.5, 31.5];

        const mesesNucleo = ['Nov 23', 'Dic 23', 'Ene 24', 'Feb 24', 'Mar 24', 'Abr 24', 'May 24', 'Jun 24', 
                            'Jul 24', 'Ago 24', 'Sep 24', 'Oct 24', 'Nov 24', 'Dic 24', 'Ene 25', 'Feb 25', 
                            'Mar 25', 'Abr 25', 'May 25', 'Jun 25', 'Jul 25', 'Ago 25', 'Sep 25', 'Oct 25', 
                            'Nov 25', 'Dic 25'];
        
        const datosNucleo = [12.6, 24.2, 19.4, 14.1, 11.3, 8.6, 4.4, 4.3, 3.7, 3.8, 3.3, 2.7, 2.4, 2.5, 2.3, 
                            2.1, 2.3, 2.7, 2.9, 3.5, 3.4, 4.0, 3.7, 3.4, 2.5, 2.7];

        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const errorMessage = document.getElementById('errorMessage');

            if (validUsers[username] && validUsers[username] === password) {
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('dashboard').classList.add('active');
                document.getElementById('bottomNav').classList.add('active');
                errorMessage.style.display = 'none';
            } else {
                errorMessage.style.display = 'block';
            }
        }

        function logout() {
            document.getElementById('dashboard').classList.remove('active');
            document.getElementById('bottomNav').classList.remove('active');
            document.getElementById('loginScreen').style.display = 'flex';
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            document.getElementById('errorMessage').style.display = 'none';
        }

        function showSection(section) {
            // Ocultar todas las secciones
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            
            // Mostrar la secci√≥n seleccionada
            document.getElementById(section + 'Section').classList.add('active');
            
            // Actualizar navegaci√≥n inferior
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            event.target.closest('.nav-item')?.classList.add('active');
            
            // Inicializar gr√°ficos si es necesario
            if (!chartsInitialized && section !== 'resumen' && section !== 'emae') {
                initCharts();
                chartsInitialized = true;
            }
            
            // Scroll al tope
            window.scrollTo(0, 0);
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('username').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') login();
            });
            document.getElementById('password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') login();
            });
        });

        async function descargarExcel() {
            const btn = document.querySelector('.download-btn');
            btn.disabled = true;
            btn.textContent = '‚è≥ Generando...';
            
            try {
                if (typeof ExcelJS === 'undefined') {
                    await loadScript('https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js');
                }
                
                const workbook = new ExcelJS.Workbook();
                
                const ws1 = workbook.addWorksheet('Inflaci√≥n y EMAE');
                ws1.addRow(['Mes', 'Inflaci√≥n Mensual (%)', 'EMAE Desest. (base 2004=100)']);
                for (let i = 0; i < mesesMensual.length; i++) {
                    ws1.addRow([mesesMensual[i], datosMensual[i], datosEMAE[i]]);
                }
                formatWorksheet(ws1, 3);
                
                const ws2 = workbook.addWorksheet('Inflaci√≥n Interanual');
                ws2.addRow(['Mes', 'Inflaci√≥n Interanual (%)']);
                for (let i = 0; i < mesesInteranual.length; i++) {
                    ws2.addRow([mesesInteranual[i], datosInteranual[i]]);
                }
                formatWorksheet(ws2, 2);
                
                const ws3 = workbook.addWorksheet('Inflaci√≥n N√∫cleo');
                ws3.addRow(['Mes', 'Inflaci√≥n N√∫cleo (%)']);
                for (let i = 0; i < mesesNucleo.length; i++) {
                    ws3.addRow([mesesNucleo[i], datosNucleo[i]]);
                }
                formatWorksheet(ws3, 2);
                
                const buffer = await workbook.xlsx.writeBuffer();
                const blob = new Blob([buffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'datos_inflacion_argentina.xlsx';
                a.click();
                window.URL.revokeObjectURL(url);
                
                btn.textContent = '‚úÖ Descargado!';
                setTimeout(() => {
                    btn.textContent = 'üì• Descargar Excel';
                    btn.disabled = false;
                }, 2000);
            } catch (error) {
                console.error('Error al generar Excel:', error);
                btn.textContent = '‚ùå Error';
                setTimeout(() => {
                    btn.textContent = 'üì• Descargar Excel';
                    btn.disabled = false;
                }, 2000);
            }
        }

        function formatWorksheet(worksheet, numCols) {
            const headerRow = worksheet.getRow(1);
            headerRow.font = { bold: true, color: { argb: 'FFFFFFFF' } };
            headerRow.fill = {
                type: 'pattern',
                pattern: 'solid',
                fgColor: { argb: 'FF001f3f' }
            };
            headerRow.alignment = { horizontal: 'center', vertical: 'middle' };
            
            worksheet.getColumn(1).width = 12;
            for (let i = 2; i <= numCols; i++) {
                worksheet.getColumn(i).width = 28;
            }
            
            for (let i = 2; i <= worksheet.rowCount; i++) {
                for (let j = 2; j <= numCols; j++) {
                    const cell = worksheet.getCell(i, j);
                    cell.numFmt = '0.0';
                    cell.alignment = { horizontal: 'center' };
                }
            }
        }

        function loadScript(src) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = resolve;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        }

        function initCharts() {
            const commonOptions = {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: false
                    },
                    datalabels: {
                        display: function(context) {
                            const length = context.dataset.data.length;
                            return context.dataIndex === 0 || context.dataIndex === length - 1;
                        },
                        anchor: 'end',
                        align: 'top',
                        offset: 4,
                        font: {
                            family: 'Lora',
                            size: 11,
                            weight: 'bold'
                        },
                        color: '#001f3f',
                        formatter: function(value) {
                            return value + '%';
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: {
                                family: 'Lora',
                                size: 12
                            },
                            callback: function(value) {
                                return value + '%';
                            }
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: {
                                family: 'Lora',
                                size: 11
                            }
                        }
                    }
                }
            };

            const barOptions = {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: false
                    },
                    datalabels: {
                        display: function(context) {
                            const length = context.dataset.data.length;
                            return context.dataIndex === 0 || context.dataIndex === length - 1;
                        },
                        anchor: 'end',
                        align: 'top',
                        font: {
                            family: 'Lora',
                            size: 11,
                            weight: 'bold'
                        },
                        color: '#001f3f',
                        formatter: function(value) {
                            return value + '%';
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: {
                                family: 'Lora',
                                size: 12
                            },
                            callback: function(value) {
                                return value + '%';
                            }
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: {
                                family: 'Lora',
                                size: 11
                            }
                        }
                    }
                }
            };

            const ctxMensual = document.getElementById('inflacionMensualChart').getContext('2d');
            chartMensual = new Chart(ctxMensual, {
                type: 'bar',
                data: {
                    labels: mesesMensual,
                    datasets: [{
                        label: 'Inflaci√≥n Mensual (%)',
                        data: datosMensual,
                        backgroundColor: '#001f3f',
                        borderRadius: 6,
                        yAxisID: 'y',
                        order: 2,
                        datalabels: {
                            display: function(context) {
                                return context.dataIndex === 0 || context.dataIndex === datosMensual.length - 1;
                            },
                            anchor: 'end',
                            align: 'top',
                            font: {
                                family: 'Lora',
                                size: 11,
                                weight: 'bold'
                            },
                            color: '#001f3f',
                            formatter: function(value) {
                                return value + '%';
                            }
                        }
                    },
                    {
                        label: 'EMAE Desest. (base 2004=100)',
                        data: datosEMAE,
                        type: 'line',
                        borderColor: '#808080',
                        backgroundColor: 'rgba(128, 128, 128, 0.1)',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 6,
                        yAxisID: 'y1',
                        order: 1,
                        datalabels: {
                            display: function(context) {
                                return context.dataIndex === 0 || context.dataIndex === datosEMAE.length - 1;
                            },
                            anchor: 'end',
                            align: 'top',
                            offset: 4,
                            font: {
                                family: 'Lora',
                                size: 11,
                                weight: 'bold'
                            },
                            color: '#808080',
                            formatter: function(value) {
                                return value.toFixed(1);
                            }
                        }
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                font: {
                                    family: 'Lora',
                                    size: 12
                                },
                                usePointStyle: true,
                                padding: 15
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    if (context.dataset.label.includes('EMAE')) {
                                        return context.dataset.label + ': ' + context.parsed.y.toFixed(1);
                                    }
                                    return context.dataset.label + ': ' + context.parsed.y + '%';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            position: 'left',
                            beginAtZero: true,
                            grid: {
                                display: false
                            },
                            ticks: {
                                font: {
                                    family: 'Lora',
                                    size: 12
                                },
                                callback: function(value) {
                                    return value + '%';
                                }
                            },
                            title: {
                                display: true,
                                text: 'Inflaci√≥n (%)',
                                font: {
                                    family: 'Lora',
                                    size: 12
                                }
                            }
                        },
                        y1: {
                            type: 'linear',
                            position: 'right',
                            display: false,
                            min: 145,
                            max: 160,
                            grid: {
                                display: false
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                font: {
                                    family: 'Lora',
                                    size: 11
                                }
                            }
                        }
                    }
                }
            });

            const ctxInteranual = document.getElementById('inflacionInteranualChart').getContext('2d');
            chartInteranual = new Chart(ctxInteranual, {
                type: 'line',
                data: {
                    labels: mesesInteranual,
                    datasets: [{
                        label: 'Inflaci√≥n Interanual (%)',
                        data: datosInteranual,
                        borderColor: '#001f3f',
                        backgroundColor: 'rgba(0, 31, 63, 0.1)',
                        tension: 0.4,
                        fill: true,
                        pointRadius: 5,
                        pointBackgroundColor: '#001f3f',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2
                    }]
                },
                options: commonOptions
            });

            const ctxNucleo = document.getElementById('inflacionNucleoChart').getContext('2d');
            chartNucleo = new Chart(ctxNucleo, {
                type: 'bar',
                data: {
                    labels: mesesNucleo,
                    datasets: [{
                        label: 'Inflaci√≥n N√∫cleo (%)',
                        data: datosNucleo,
                        backgroundColor: '#003366',
                        borderRadius: 6
                    }]
                },
                options: barOptions
            });
        }
    </script>
</body>
</html>
